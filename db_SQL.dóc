USE db_fiverr


CREATE TABLE LoaiCongViec (
    id INT PRIMARY KEY AUTO_INCREMENT,
    ten_loai_cong_viec VARCHAR(255)
);


CREATE TABLE ChiTietLoaiCongViec (
    id INT PRIMARY KEY AUTO_INCREMENT,
    ten_chi_tiet_cv VARCHAR(255),
    hinh_anh VARCHAR(255),
    ma_loai_cong_viec INT,
     CONSTRAINT fk_ma_loai_cong_viec FOREIGN KEY (ma_loai_cong_viec) REFERENCES LoaiCongViec(id)
);


CREATE TABLE NguoiDung (
  id INT PRIMARY KEY AUTO_INCREMENT,
  name varchar(255) NOT NULL,
  email varchar(100) UNIQUE,
  pass_word varchar(255),
  phone varchar(255),
  birth_day DATE,
  gender varchar(255),
  role varchar(255),
  skill varchar(255),
  certification varchar(255)
);


CREATE TABLE CongViec (
    id INT AUTO_INCREMENT,
    ten_cong_viec VARCHAR(255),
    danh_gia FLOAT,
    gia_tien INT,
    hinh_anh VARCHAR(255),
    mo_ta VARCHAR(255),
    mo_ta_ngan VARCHAR(255),
    sao_cong_viec INT,
    ma_chi_tiet_loai INT,
    nguoi_tao INT,
    PRIMARY KEY (id),
    CONSTRAINT fk_nguoi_tao FOREIGN KEY (nguoi_tao) REFERENCES NguoiDung(id),
    CONSTRAINT fk_ma_chi_tiet_loai FOREIGN KEY (ma_chi_tiet_loai) REFERENCES ChiTietLoaiCongViec(id)
);



CREATE TABLE ThueCongViec (
    id INT AUTO_INCREMENT,
    ma_cong_viec INT,
    ma_nguoi_thue INT,
    ngay_thue DATETIME,
    hoan_thanh BOOLEAN,
    PRIMARY KEY (id),
    CONSTRAINT fk_ma_nguoi_thue FOREIGN KEY (ma_nguoi_thue) REFERENCES NguoiDung(id),
    CONSTRAINT fk_ma_cong_viec FOREIGN KEY (ma_cong_viec) REFERENCES CongViec(id)
);

CREATE TABLE BinhLuan (
    id INT AUTO_INCREMENT,
    id_cong_viec INT,
    ma_nguoi_binh_luan INT,
    ngay_binh_luan DATETIME,
    noi_dung VARCHAR(255),
    sao_binh_luan INT,
    PRIMARY KEY (id),
    CONSTRAINT fk_ma_nguoi_binh_luan FOREIGN KEY (ma_nguoi_binh_luan) REFERENCES NguoiDung(id),
    CONSTRAINT fk_id_cong_viec FOREIGN KEY (id_cong_viec) REFERENCES CongViec(id)
);




